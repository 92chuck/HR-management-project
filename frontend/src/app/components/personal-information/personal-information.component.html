<div class="px-4 py-5 my-5 text-center">
  <h1 class="display-5 fw-bold">Personal Information</h1>
  <div class="col lg-6 mx-auto">
    <p class="lead">Check the follwing sections</p>
  </div>
</div>

<div class="row justify-content-center">
  <div class="col-6">
    <form [formGroup]="profileForm">
      <div class="row g-3">
        <h3 class="fw-bold">Name</h3>
        <div class="col-12">
          <button
            *ngIf="!nameEdit"
            (click)="edit('name')"
            class="btn btn-primary"
          >
            Edit
          </button>
          <button
            *ngIf="nameEdit"
            (click)="cancel('name')"
            class="btn btn-danger"
          >
            Cancel
          </button>
          <button *ngIf="nameEdit" class="btn btn-success mx-2">Save</button>
        </div>
        <div class="col-12">
          <label for="firstName" class="form-label"
            >First Name <span class="text-danger">*</span></label
          >
          <input
            type="text"
            class="form-control"
            formControlName="firstName"
            [readonly]="!nameEdit"
            [ngClass]="
              (profileForm.get('firstName')?.touched ||
                profileForm.get('firstName')?.dirty) &&
              profileForm.get('firstName')?.hasError('required') &&
              nameEdit
                ? 'is-invalid'
                : ''
            "
          />
          <div class="invalid-feedback">
            {{
              profileForm.get("firstName")?.hasError("required")
                ? "First name is required"
                : ""
            }}
          </div>
        </div>
        <div class="col-12">
          <label for="middleName" class="form-label">Middle Name</label>
          <input
            type="text"
            class="form-control"
            formControlName="middleName"
            [readonly]="!nameEdit"
          />
        </div>
        <div class="col-12">
          <label for="lastName" class="form-label"
            >Last Name<span class="text-danger">*</span></label
          >
          <input
            type="text"
            class="form-control"
            formControlName="lastName"
            [readonly]="!nameEdit"
            [ngClass]="
              (profileForm.get('lastName')?.touched ||
                profileForm.get('lastName')?.dirty) &&
              profileForm.get('lastName')?.hasError('required') &&
              nameEdit
                ? 'is-invalid'
                : ''
            "
          />
          <div class="invalid-feedback">
            {{
              profileForm.get("lastName")?.hasError("required")
                ? "Last name is required"
                : ""
            }}
          </div>
        </div>
        <div class="col-12">
          <label for="preferredName" class="form-label">preferred Name</label>
          <input
            type="text"
            class="form-control"
            formControlName="preferredName"
            [readonly]="!nameEdit"
          />
        </div>
        <h3 class="fw-bold">Address</h3>
        <div class="col-12">
          <button
            *ngIf="!addressEdit"
            (click)="edit('address')"
            class="btn btn-primary"
          >
            Edit
          </button>
          <button
            *ngIf="addressEdit"
            (click)="cancel('address')"
            class="btn btn-danger"
          >
            Cancel
          </button>
          <button *ngIf="addressEdit" class="btn btn-success mx-2">Save</button>
        </div>
        <div class="col-12">
          <label for="address" class="form-label"
            >Street Name<span class="text-danger">*</span></label
          >
          <input
            type="text"
            class="form-control"
            formControlName="address"
            [readonly]="!addressEdit"
            [ngClass]="
              (profileForm.get('address')?.touched ||
                profileForm.get('address')?.dirty) &&
              profileForm.get('address')?.hasError('required') &&
              addressEdit
                ? 'is-invalid'
                : ''
            "
          />
          <div class="invalid-feedback">
            {{
              profileForm.get("address")?.hasError("required")
                ? "Street Name is required"
                : ""
            }}
          </div>
        </div>
        <div class="col-12">
          <label for="apartment" class="form-label">Building / Apt #</label>
          <input
            type="text"
            class="form-control"
            formControlName="apartment"
            [readonly]="!addressEdit"
          />
        </div>
        <div class="col-12">
          <label for="city" class="form-label"
            >City<span class="text-danger">*</span></label
          >
          <input
            type="text"
            class="form-control"
            formControlName="city"
            [readonly]="!addressEdit"
            [ngClass]="
              (profileForm.get('city')?.touched ||
                profileForm.get('city')?.dirty) &&
              profileForm.get('city')?.hasError('required') &&
              addressEdit
                ? 'is-invalid'
                : ''
            "
          />
          <div class="invalid-feedback">
            {{
              profileForm.get("city")?.hasError("required")
                ? "City is required"
                : ""
            }}
          </div>
        </div>
        <div class="col-12">
          <label for="state" class="form-label"
            >State<span class="text-danger">*</span></label
          >
          <select
            class="form-control"
            formControlName="state"
            [ngClass]="
              (profileForm.get('state')?.touched ||
                profileForm.get('state')?.dirty) &&
              profileForm.get('state')?.hasError('required') &&
              addressEdit
                ? 'is-invalid'
                : ''
            "
          >
            <option
              *ngFor="let state of states"
              [ngValue]="state"
              [disabled]="!addressEdit"
            >
              {{ state }}
            </option>
          </select>
          <div class="invalid-feedback">
            {{
              profileForm.get("state")?.hasError("required")
                ? "State is required"
                : ""
            }}
          </div>
        </div>
        <div class="col-12">
          <label for="zipcode" class="form-label"
            >Zip<span class="text-danger">*</span></label
          >
          <input
            type="number"
            class="form-control"
            formControlName="zipcode"
            [readonly]="!addressEdit"
            [ngClass]="
              (profileForm.get('zipcode')?.touched ||
                profileForm.get('zipcode')?.dirty) &&
              profileForm.get('zipcode')?.hasError('required') &&
              addressEdit
                ? 'is-invalid'
                : ''
            "
          />
          <div class="invalid-feedback">
            {{
              profileForm.get("zipcode")?.hasError("required")
                ? "Zip is required"
                : ""
            }}
          </div>
        </div>
        <h3 class="fw-bold">Contact Info</h3>
        <div class="col-12">
          <button
            *ngIf="!contactEdit"
            (click)="edit('contact')"
            class="btn btn-primary"
          >
            Edit
          </button>
          <button
            *ngIf="contactEdit"
            (click)="cancel('contact')"
            class="btn btn-danger"
          >
            Cancel
          </button>
          <button *ngIf="contactEdit" class="btn btn-success mx-2">Save</button>
        </div>
        <div class="col-12">
          <label for="cellphone" class="form-label"
            >Cell Phone Number<span class="text-danger">*</span></label
          >
          <input
            type="tel"
            class="form-control"
            formControlName="cellphone"
            [readonly]="!contactEdit"
            [ngClass]="
              (profileForm.get('cellphone')?.touched ||
                profileForm.get('cellphone')?.dirty) &&
              profileForm.get('cellphone')?.hasError('required') &&
              contactEdit
                ? 'is-invalid'
                : ''
            "
          />
          <div class="invalid-feedback">
            {{
              profileForm.get("cellphone")?.hasError("required")
                ? "Cell phone is required"
                : ""
            }}
          </div>
        </div>
        <div class="col-12">
          <label for="workphone" class="form-label">Work Phone Number</label>
          <input
            type="tel"
            class="form-control"
            formControlName="workphone"
            [readonly]="!contactEdit"
          />
        </div>
        <h3 class="fw-bold">Employment</h3>
        <div class="col-12">
          <button
            *ngIf="!employmentEdit"
            (click)="edit('employment')"
            class="btn btn-primary"
          >
            Edit
          </button>
          <button
            *ngIf="employmentEdit"
            (click)="cancel('employment')"
            class="btn btn-danger"
          >
            Cancel
          </button>
          <button *ngIf="employmentEdit" class="btn btn-success mx-2">
            Save
          </button>
        </div>
        <div class="col-12">
          <label for="visaTitle" class="form-label">Visa Title</label>
          <input
            type="text"
            class="form-control"
            formControlName="visaTitle"
            [readonly]="!employmentEdit"
          />
        </div>
        <div class="col-12">
          <label for="startDate" class="form-label">Start Date</label>
          <input
            type="date"
            class="form-control"
            formControlName="startDate"
            [readonly]="!employmentEdit"
          />
        </div>
        <div class="col-12">
          <label for="endDate" class="form-label">End Date</label>
          <input
            type="date"
            class="form-control"
            formControlName="endDate"
            [readonly]="!employmentEdit"
          />
        </div>
        <h3 class="fw-bold">Emgergency Contact</h3>
        <div class="col-12">
          <button
            *ngIf="!emergencyEdit"
            (click)="edit('emergency')"
            class="btn btn-primary"
          >
            Edit
          </button>
          <button
            *ngIf="emergencyEdit"
            (click)="cancel('emergency')"
            class="btn btn-danger"
          >
            Cancel
          </button>
          <button *ngIf="emergencyEdit" class="btn btn-success mx-2">
            Save
          </button>
        </div>
        <h6 class="fw-bold">Emergency Contact 1</h6>
        <div class="col-12">
          <label for="emergencyFirstName" class="form-label"
            >First Name<span class="text-danger">*</span></label
          >
          <input
            type="text"
            class="form-control"
            formControlName="emergencyFirstName"
            [readonly]="!emergencyEdit"
            [ngClass]="
              (profileForm.get('emergencyFirstName')?.touched ||
                profileForm.get('emergencyFirstName')?.dirty) &&
              profileForm.get('emergencyFirstName')?.hasError('required') &&
              emergencyEdit
                ? 'is-invalid'
                : ''
            "
          />
          <div class="invalid-feedback">
            {{
              profileForm.get("emergencyFirstName")?.hasError("required")
                ? "First name is required"
                : ""
            }}
          </div>
        </div>
        <div class="col-12">
          <label for="emergencyMiddleName" class="form-label"
            >Middle Name</label
          >
          <input
            type="text"
            class="form-control"
            formControlName="emergencyMiddleName"
            [readonly]="!emergencyEdit"
          />
        </div>
        <div class="col-12">
          <label for="emergencyLastName" class="form-label"
            >Last Name<span class="text-danger">*</span></label
          >
          <input
            type="text"
            class="form-control"
            formControlName="emergencyLastName"
            [readonly]="!emergencyEdit"
            [ngClass]="
              (profileForm.get('emergencyLastName')?.touched ||
                profileForm.get('emergencyLastName')?.dirty) &&
              profileForm.get('emergencyLastName')?.hasError('required') &&
              emergencyEdit
                ? 'is-invalid'
                : ''
            "
          />
          <div class="invalid-feedback">
            {{
              profileForm.get("emergencyLastName")?.hasError("required")
                ? "Last name is required"
                : ""
            }}
          </div>
        </div>
        <div class="col-12">
          <label for="emergencyPhone" class="form-label"
            >Cell Phone Number<span class="text-danger">*</span></label
          >
          <input
            type="tel"
            class="form-control"
            formControlName="emergencyPhone"
            [readonly]="!emergencyEdit"
            [ngClass]="
              (profileForm.get('emergencyPhone')?.touched ||
                profileForm.get('emergencyPhone')?.dirty) &&
              profileForm.get('emergencyPhone')?.hasError('required') &&
              emergencyEdit
                ? 'is-invalid'
                : ''
            "
          />
          <div class="invalid-feedback">
            {{
              profileForm.get("emergencyPhone")?.hasError("required")
                ? "Cell phone is required"
                : ""
            }}
          </div>
        </div>
        <div class="col-12">
          <label for="emergencyEmail" class="form-label"
            >Email<span class="text-danger">*</span></label
          >
          <input
            type="email"
            class="form-control"
            formControlName="emergencyEmail"
            [readonly]="!emergencyEdit"
            [ngClass]="
              (profileForm.get('emergencyEmail')?.touched ||
                profileForm.get('emergencyEmail')?.dirty) &&
              profileForm.get('emergencyEmail')?.hasError('required') &&
              emergencyEdit
                ? 'is-invalid'
                : ''
            "
          />
          <div class="invalid-feedback">
            {{
              profileForm.get("emergencyEmail")?.hasError("required")
                ? "Email is required"
                : ""
            }}
          </div>
        </div>
        <div class="col-12">
          <label for="emergencyRelationship" class="form-label"
            >Relationship<span class="text-danger">*</span></label
          >
          <input
            type="text"
            class="form-control"
            formControlName="emergencyRelationship"
            [readonly]="!emergencyEdit"
            [ngClass]="
              (profileForm.get('emergencyRelationship')?.touched ||
                profileForm.get('emergencyRelationship')?.dirty) &&
              profileForm.get('emergencyRelationship')?.hasError('required') &&
              emergencyEdit
                ? 'is-invalid'
                : ''
            "
          />
          <div class="invalid-feedback">
            {{
              profileForm.get("emergencyRelationship")?.hasError("required")
                ? "Relationship is required"
                : ""
            }}
          </div>
        </div>
        <h6 class="fw-bold">Emergency Contact 2</h6>
        <div class="col-12">
          <label for="emergency2FirstName" class="form-label">First Name</label>
          <input
            type="text"
            class="form-control"
            formControlName="emergency2FirstName"
            [readonly]="!emergencyEdit"
          />
        </div>
        <div class="col-12">
          <label for="emergency2MiddleName" class="form-label"
            >Middle Name</label
          >
          <input
            type="text"
            class="form-control"
            formControlName="emergency2MiddleName"
            [readonly]="!emergencyEdit"
          />
        </div>
        <div class="col-12">
          <label for="emergency2LastName" class="form-label">Last Name</label>
          <input
            type="text"
            class="form-control"
            formControlName="emergency2LastName"
            [readonly]="!emergencyEdit"
          />
        </div>
        <div class="col-12">
          <label for="emergency2Phone" class="form-label"
            >Cell Phone Number</label
          >
          <input
            type="tel"
            class="form-control"
            formControlName="emergency2Phone"
            [readonly]="!emergencyEdit"
          />
        </div>
        <div class="col-12">
          <label for="emergency2Email" class="form-label">Email</label>
          <input
            type="email"
            class="form-control"
            formControlName="emergency2Email"
            [readonly]="!emergencyEdit"
          />
        </div>
        <div class="col-12">
          <label for="emergency2Relationship" class="form-label"
            >Relationship</label
          >
          <input
            type="text"
            class="form-control"
            formControlName="emergency2Relationship"
            [readonly]="!emergencyEdit"
          />
        </div>
        <h3 class="fw-bold">Documents</h3>
      </div>
    </form>
  </div>
</div>
